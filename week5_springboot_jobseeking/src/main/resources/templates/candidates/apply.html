<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Cong viec</title>
  <link rel="icon" href="https://bluec.vn/wp-content/uploads/2022/08/logo-Blue-C-tron-150x150.png" sizes="32x32">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <style>
    body, html {
      height: 100%;
      margin: 0;
      font-family: Arial, sans-serif;
    }
    .navbar-custom {
      background-color: white;
      border-bottom: 1px solid #ddd;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }
    .navbar-nav .nav-link {
      font-weight: bold;
      color: #17a2b8;
      transition: color 0.3s ease-in-out;
    }
    .nav-item:hover {
      background-color: #17a2b8;
      /*    */
    }
    .nav-link:hover {
      color: #FFFFFF; /* Blue hover color */
    }
    .navbar-brand img {
      max-height: 40px;
    }
    .btn-primary {
      background-color: #0056b3;
      border-radius: 5px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    .btn-primary:hover {
      background-color: #004085;
    }
    .btn-danger {
      background-color: #dc3545;
      border-radius: 5px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    .btn-danger:hover {
      background-color: #c82333;
    }
    .card {
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
    }
    .card-body {
      padding: 20px;
    }
    .card-title a {
      color: #0056b3;
      text-decoration: none;
    }
    .card-title a:hover {
      text-decoration: underline;
      color: #003366;
    }
    .alert {
      border-radius: 8px;
    }
    .alert-success {
      background-color: #d4edda;
      color: #155724;
    }
    .alert-danger {
      background-color: #f8d7da;
      color: #721c24;
    }
    /* General container styling */
    .email-container {
      max-width: 700px;
      margin: auto;
      padding: 30px;
      border: 1px solid #ddd;
      border-radius: 12px;
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
      background-color: #f9f9f9;
    }

    /* Header styling */
    .email-header {
      text-align: center;
      margin-bottom: 20px;
      color: #333;
      font-size: 2rem;
      font-weight: bold;
    }

    /* Body content styling */
    .email-body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    /* Label styling */
    .label {
      font-weight: 600;
      margin-right: 5px;
      color: #333;
    }

    /* Styling for each list item (experience/skills) */
    .email-body ul li {
      display: flex;
      align-items: center;
      margin: 10px 0;
    }

    /* Styling for icons */
    .email-body p i, .email-body ul li i {
      color: #007bff;
      margin-right: 10px;
      font-size: 1.5rem;
    }

    .email-body h4 i {
      margin-right: 10px;
      color: #007bff;
    }

    /* Message and input styling */
    .form-control, .form-label {
      border-radius: 8px;
    }

    .btn-back {
      background-color: #e0e0e0;
      border-color: #ccc;
      color: #333;
      transition: background-color 0.3s;
    }

    .btn-back:hover {
      background-color: #d6d6d6;
    }

    .notification {
      margin-bottom: 20px;
    }

    /* Back to job details button styling */
    .btn-primary {
      background-color: #007bff;
      border-color: #007bff;
    }

    .btn-primary:hover {
      background-color: #0056b3;
      border-color: #0056b3;
    }




  </style>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light navbar-custom fixed-top">
  <div class="container">
    <a class="navbar-brand" href="/">
      <img src="https://bluec.vn/wp-content/themes/bluec2019/files/logo.png" alt="Logo">
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="/">TRANG CHỦ</a></li>
        <li class="nav-item"><a class="nav-link" href="#">CHIA SẺ</a></li>
        <li class="nav-item"><a class="nav-link" href="#">SẢN PHẨM & DỊCH VỤ</a></li>
        <li class="nav-item"><a class="nav-link" href="#">VỀ BLUE C</a></li>
        <li class="nav-item"><a class="nav-link" href="#"><i class="bi bi-search"></i></a></li>
        <li class="nav-item"><a class="nav-link" href="/login">ĐĂNG NHẬP</a></li>
        <li class="nav-item">
          <div class="btn-group">
            <button type="button" class="nav-link" data-bs-toggle="dropdown" aria-expanded="false">
              <img src="https://cdn-icons-png.flaticon.com/512/3437/3437393.png" style="width: 20px; height: 20px">
            </button>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="/logout">Logout</a></li>
            </ul>
          </div>
        </li>
      </ul>
    </div>
  </div>
</nav>
<br>
<div class="container mt-5">
  <!-- Display success or error messages -->
  <div th:if="${successMessage}" class="alert alert-success notification" role="alert">
    <span th:text="${successMessage}"></span>
  </div>
  <div th:if="${errorMessage}" class="alert alert-danger notification" role="alert">
    <span th:text="${errorMessage}"></span>
  </div>

  <div class="email-container">
    <h2 class="email-header">Nộp đơn ứng tuyển </h2>
    <div class="email-body">
      <p><i class="fas fa-user-circle"></i> <span class="label">Name:</span> <span th:text="${candidate.fullName}"></span></p>
      <p><i class="fas fa-envelope"></i> <span class="label">Email:</span> <span th:text="${candidate.email}"></span></p>
      <p><i class="fas fa-phone"></i> <span class="label">Phone:</span> <span th:text="${candidate.phone}"></span></p>
      <p><i class="fas fa-birthday-cake"></i> <span class="label">Date of Birth:</span> <span th:text="${candidate.dob}"></span></p>
      <p><i class="fas fa-home"></i> <span class="label">Address:</span>
        <span th:text="${candidate.address.number}"></span>,
        <span th:text="${candidate.address.street}"></span>,
        <span th:text="${candidate.address.city}"></span>,
        <span th:text="${candidate.address.zipcode}"></span>,
        <span th:text="${candidate.address.country}"></span>
      </p>

      <h4 class="mt-4"><i class="fas fa-laptop-code"></i> Skills:</h4>
      <ul>
        <li th:each="skill : ${candidate.candidateSkills}">
          <i class="fas fa-check-circle"></i> <span th:text="${skill.skill.skillName}"></span> - Level:
          <span th:text="
              ${skill.skillLevel == 1 ? 'BEGINNER' :
              skill.skillLevel == 2 ? 'INTERMEDIATE' :
              skill.skillLevel == 3 ? 'ADVANCED' :
              skill.skillLevel == 4 ? 'PROFESSIONAL' :
              skill.skillLevel == 5 ? 'MASTER' : 'Unknown'}"></span>
        </li>
      </ul>

      <h4 class="mt-4"><i class="fas fa-briefcase"></i> Experience:</h4>
      <ul>
        <li th:each="exp : ${candidate.experiences}">
          <strong><i class="fas fa-building"></i> <span th:text="${exp.companyName}"></span></strong>
          <span th:text="'(from ' + ${exp.fromDate} + ' to ' + ${exp.toDate} + ')'"></span><br>
          <i class="fas fa-user-tag"></i> <span class="label">Role:</span> <span th:text="${exp.role}"></span><br>
          <i class="fas fa-info-circle"></i> <span class="label">Description:</span> <span th:text="${exp.workDescription}"></span>
        </li>
      </ul>

      <!-- Form to submit the application -->
      <form th:action="@{sendApply}" method="post">
        <input type="hidden" name="jobId" th:value="${jobId}">
        <input type="hidden" name="applicantName" th:value="${candidate.fullName}">
        <input type="hidden" name="email" th:value="${candidate.email}">
        <div class="mb-3">
          <label for="message" class="form-label">Message:</label>
          <textarea class="form-control" id="message" name="message" rows="3" required></textarea>
        </div>
        <button type="submit" class="btn btn-primary w-100">Send Application</button>
      </form>

      <!-- Back button -->
      <a th:href="@{/jobs/details/{id}(id=${job.id})}" class="btn btn-back w-100 mt-3">Back to Job Details</a>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
